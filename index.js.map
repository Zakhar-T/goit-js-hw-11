{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport SimpleLightbox from \"simplelightbox\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst notificationInstance = iziToast.error({\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n    position: \"topRight\",\n});\n\n\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst searchParams = {\n    key: \"49370503-7e4a3b73ee503433174e66c4b\",\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    per_page: 9,\n    safesearch: true,\n};\n\nform.addEventListener(\"submit\", showPhotos);\n\nfunction showPhotos(event) {\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n\n    const searchText = event.currentTarget.elements.search.value;\n    searchParams.q = searchText;\n    fetchPhotos()\n}\n\nfunction fetchPhotos() {\n    return axios.get(`?${new URLSearchParams(searchParams)}`)\n        .then(response => {\n            if (response.status !== 200) {\n                return notificationInstance;\n            }\n            return createMarkup(response.data.hits) })\n        .catch(error => console.log(error));\n}\n\nfunction createMarkup(images) {\n    const markup = images.map(image => {\n        return `<li class=\"gallery-card\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.id}\" class=\"card-image\" width=\"360\" height=\"152\" />\n          <ul class=\"card-caption\">\n            <li class=\"image-tag\"><p>Likes<br />${image.likes}</p></li>\n            <li class=\"image-tag\"><p>Views<br />${image.views}</p></li>\n            <li class=\"image-tag\"><p>Comments<br />${image.comments}</p></li>\n            <li class=\"image-tag\"><p>Downloads<br />${image.downloads}</p></li>\n          </ul>\n        </li>`;\n    }).join(\"\");\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n}"],"names":["notificationInstance","iziToast","axios","form","gallery","searchParams","showPhotos","event","searchText","fetchPhotos","response","createMarkup","error","images","markup","image"],"mappings":"6vBAMA,MAAMA,EAAuBC,EAAS,MAAM,CACxC,QAAS,2EACT,SAAU,UACd,CAAC,EAIDC,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAe,CACjB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,SAAU,EACV,WAAY,EAChB,EAEAF,EAAK,iBAAiB,SAAUG,CAAU,EAE1C,SAASA,EAAWC,EAAO,CACvBA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GAEpB,MAAMI,EAAaD,EAAM,cAAc,SAAS,OAAO,MACvDF,EAAa,EAAIG,EACjBC,EAAa,CACjB,CAEA,SAASA,GAAc,CACnB,OAAOP,EAAM,IAAI,IAAI,IAAI,gBAAgBG,CAAY,CAAC,EAAE,EACnD,KAAKK,GACEA,EAAS,SAAW,IACbV,EAEJW,EAAaD,EAAS,KAAK,IAAI,CAAG,EAC5C,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAEA,SAASD,EAAaE,EAAQ,CAC1B,MAAMC,EAASD,EAAO,IAAIE,GACf;AAAA,sBACOA,EAAM,YAAY,UAAUA,EAAM,EAAE;AAAA;AAAA,kDAERA,EAAM,KAAK;AAAA,kDACXA,EAAM,KAAK;AAAA,qDACRA,EAAM,QAAQ;AAAA,sDACbA,EAAM,SAAS;AAAA;AAAA,cAGhE,EAAE,KAAK,EAAE,EACVX,EAAQ,mBAAmB,YAAaU,CAAM,CAClD"}