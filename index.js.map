{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport SimpleLightbox from \"simplelightbox\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst searchParams = {\n    key: \"49370503-7e4a3b73ee503433174e66c4b\",\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    per_page: 9,\n    safesearch: true,\n};\n\nform.addEventListener(\"submit\", renderPhotos);\ngallery.addEventListener(\"click\", showPhoto)\n\nfunction renderPhotos(event) {\n    event.preventDefault();\n    gallery.innerHTML = \"\";\n\n    const searchText = event.currentTarget.elements.search.value.trim();\n    searchParams.q = searchText;\n    fetchPhotos();\n}\n\nfunction fetchPhotos() {\n    return axios.get(`?${new URLSearchParams(searchParams)}`)\n        .then(response => {\n            console.log(response);\n            if (response.data.totalHits === 0) {\n                showNotification();\n                return\n            }\n            return createMarkup(response.data.hits) })\n        .catch(error => console.log(error));\n}\n\nfunction createMarkup(images) {\n    const markup = images.map(image => {\n        const { webformatURL, tags, largeImageURL, likes, views, comments, downloads } = image;\n        return `<li class=\"gallery-card\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags.split(\",\")[0]}\" class=\"card-image\" width=\"360\" height=\"152\" />\n            <ul class=\"card-caption\">\n              <li class=\"image-tag\"><p>Likes<br />${likes}</p></li>\n              <li class=\"image-tag\"><p>Views<br />${views}</p></li>\n              <li class=\"image-tag\"><p>Comments<br />${comments}</p></li>\n              <li class=\"image-tag\"><p>Downloads<br />${downloads}</p></li>\n            </ul>\n          </a>\n        </li>`;\n    }).join(\"\");\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nfunction showNotification() {\n    iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n    });\n}\n\nfunction showPhoto(event) {\n    if (event.target.nodeName === \"A\") {\n        event.preventDefault();\n        new SimpleLightbox('.gallery li a', {\n            captionsData: \"alt\",\n            captionDelay: 250,\n        });\n    }\n}"],"names":["axios","form","gallery","searchParams","renderPhotos","showPhoto","event","searchText","fetchPhotos","response","showNotification","createMarkup","error","images","markup","image","webformatURL","tags","largeImageURL","likes","views","comments","downloads","iziToast","SimpleLightbox"],"mappings":"owBAMAA,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAe,CACjB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,SAAU,EACV,WAAY,EAChB,EAEAF,EAAK,iBAAiB,SAAUG,CAAY,EAC5CF,EAAQ,iBAAiB,QAASG,CAAS,EAE3C,SAASD,EAAaE,EAAO,CACzBA,EAAM,eAAc,EACpBJ,EAAQ,UAAY,GAEpB,MAAMK,EAAaD,EAAM,cAAc,SAAS,OAAO,MAAM,OAC7DH,EAAa,EAAII,EACjBC,GACJ,CAEA,SAASA,GAAc,CACnB,OAAOR,EAAM,IAAI,IAAI,IAAI,gBAAgBG,CAAY,CAAC,EAAE,EACnD,KAAKM,GAAY,CAEd,GADA,QAAQ,IAAIA,CAAQ,EAChBA,EAAS,KAAK,YAAc,EAAG,CAC/BC,IACA,MACH,CACD,OAAOC,EAAaF,EAAS,KAAK,IAAI,CAAC,CAAE,EAC5C,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CAEA,SAASD,EAAaE,EAAQ,CAC1B,MAAMC,EAASD,EAAO,IAAIE,GAAS,CAC/B,KAAM,CAAE,aAAAC,EAAc,KAAAC,EAAM,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,qBACMG,CAAa;AAAA,wBACVF,CAAY,UAAUC,EAAK,MAAM,GAAG,EAAE,CAAC,CAAC;AAAA;AAAA,oDAEZE,CAAK;AAAA,oDACLC,CAAK;AAAA,uDACFC,CAAQ;AAAA,wDACPC,CAAS;AAAA;AAAA;AAAA,cAIjE,CAAK,EAAE,KAAK,EAAE,EACVpB,EAAQ,mBAAmB,YAAaY,CAAM,CAClD,CAEA,SAASJ,GAAmB,CACxBa,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAClB,CAAK,CACL,CAEA,SAASlB,EAAUC,EAAO,CAClBA,EAAM,OAAO,WAAa,MAC1BA,EAAM,eAAc,EACpB,IAAIkB,EAAe,gBAAiB,CAChC,aAAc,MACd,aAAc,GAC1B,CAAS,EAET"}