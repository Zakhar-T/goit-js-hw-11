{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nconst searchParams = {\n    key: \"49370503-7e4a3b73ee503433174e66c4b\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    per_page: 9,\n    safesearch: true,\n};\n\nexport default function fetchPhotos(searchQuery, createMarkup) {\n    searchParams.q = searchQuery;\n    axios.get(`?${new URLSearchParams(searchParams)}`)\n        .then(response => {\n            if (response.data.totalHits === 0) {\n                showNotification();\n                return\n            }\n            createMarkup(response.status, response.data.hits) })\n        .catch(error => createMarkup(error.status));\n}\n\nfunction showNotification() {\n    iziToast.error({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const gallery = document.querySelector(\".gallery\");\nexport const loader = document.querySelector(\".gallery+span\");\nconst lightbox = new SimpleLightbox(\".gallery li a\", {\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nexport default function createMarkup(status, images) {\n  if (status !== 200) {\n    loader.classList.toggle(\"loader\");\n    loader.innerHTML = \"Oops... something went wrong...\";\n    return\n  }\n    const markup = images.map(image => {\n        const { webformatURL, tags, largeImageURL, likes, views, comments, downloads } = image;\n        return `<li class=\"gallery-card\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"card-image\" width=\"360\" height=\"152\" />\n            <ul class=\"card-caption\">\n              <li class=\"image-tag\"><p>Likes<br />${likes}</p></li>\n              <li class=\"image-tag\"><p>Views<br />${views}</p></li>\n              <li class=\"image-tag\"><p>Comments<br />${comments}</p></li>\n              <li class=\"image-tag\"><p>Downloads<br />${downloads}</p></li>\n            </ul>\n          </a>\n        </li>`;\n    }).join(\"\");\n    loader.classList.toggle(\"loader\");\n    gallery.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport fetchPhotos from \"./js/pixabay-api\";\nimport createMarkup from \"./js/render-functions\";\nimport { gallery, loader } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\nloader.classList.toggle(\"loader\");\n\nform.addEventListener(\"submit\", renderPhotos);\n\nfunction renderPhotos(event) {\n    event.preventDefault();\n    const searchQuery = event.currentTarget.elements.search.value.toLowerCase().trim();\n    if (!searchQuery) {\n        iziToast.error({\n            message: \"Search field must not be empty!\",\n            position: \"topRight\",\n        });\n        return\n    };\n    gallery.innerHTML = \"\";\n    loader.classList.toggle(\"loader\");\n    fetchPhotos(searchQuery, createMarkup);\n}"],"names":["axios","searchParams","fetchPhotos","searchQuery","createMarkup","response","showNotification","error","iziToast","gallery","loader","lightbox","SimpleLightbox","status","images","markup","image","webformatURL","tags","largeImageURL","likes","views","comments","downloads","form","renderPhotos","event"],"mappings":"owBAIAA,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAe,CACjB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,SAAU,EACV,WAAY,EAChB,EAEe,SAASC,EAAYC,EAAaC,EAAc,CAC3DH,EAAa,EAAIE,EACjBH,EAAM,IAAI,IAAI,IAAI,gBAAgBC,CAAY,CAAC,EAAE,EAC5C,KAAKI,GAAY,CACd,GAAIA,EAAS,KAAK,YAAc,EAAG,CAC/BC,IACA,MACH,CACDF,EAAaC,EAAS,OAAQA,EAAS,KAAK,IAAI,EAAG,EACtD,MAAME,GAASH,EAAaG,EAAM,MAAM,CAAC,CAClD,CAEA,SAASD,GAAmB,CACxBE,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAClB,CAAK,CACL,CC5BO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,eAAe,EACtDC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAClB,CAAC,EAEc,SAASR,EAAaS,EAAQC,EAAQ,CACnD,GAAID,IAAW,IAAK,CAClBH,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,UAAY,kCACnB,MACD,CACC,MAAMK,EAASD,EAAO,IAAIE,GAAS,CAC/B,KAAM,CAAE,aAAAC,EAAc,KAAAC,EAAM,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA,qBACMG,CAAa;AAAA,wBACVF,CAAY,UAAUC,CAAI;AAAA;AAAA,oDAEEE,CAAK;AAAA,oDACLC,CAAK;AAAA,uDACFC,CAAQ;AAAA,wDACPC,CAAS;AAAA;AAAA;AAAA,cAIjE,CAAK,EAAE,KAAK,EAAE,EACVb,EAAO,UAAU,OAAO,QAAQ,EAChCD,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAO,CACpB,CC3BA,MAAMa,EAAO,SAAS,cAAc,OAAO,EAC3Cd,EAAO,UAAU,OAAO,QAAQ,EAEhCc,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMvB,EAAcuB,EAAM,cAAc,SAAS,OAAO,MAAM,cAAc,OAC5E,GAAI,CAACvB,EAAa,CACdK,EAAS,MAAM,CACX,QAAS,kCACT,SAAU,UACtB,CAAS,EACD,MACR,CACIC,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAChCR,EAAYC,EAAaC,CAAY,CACzC"}